#!/bin/bash

# Vérifier et installer les dépendances si nécessaire
if ! command -v convert &> /dev/null; then
    echo "Installation d'ImageMagick..."
    sudo apt-get update && sudo apt-get install -y imagemagick
fi

convert_to_jpeg() {
    local input_path="$1"
    local output_path="${input_path%.*}.jpg"
    
    # Convertir en JPEG
    convert "$input_path" -quality 95 "$output_path"
    
    if [ $? -eq 0 ]; then
        echo "Conversion réussie: $output_path"
    else
        echo "Erreur lors de la conversion"
    fi
}

if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <image_path>"
else
    convert_to_jpeg "$1"
fi

